<script type="text/javascript">
{% comment %}
/**
 * Optimize rendering the combo products widget by the main PickyStory app.
 * Rendered by layout/theme.liquid.
 * If you choose to uninstall PickyStory, this snippet can be safely deleted.
 * Get the app: https://go.pickystory.com/8nsjceym
 * Contact us for any questions: hello@pickystory.com.
 * Copyright (C) 2022 Picky Story Ltd. - All Rights Reserved
 */
{% endcomment %}
(() => {
  const pageProductHandle = () => {
    const path = window.location.pathname
    const searchTerm = '/products/'
    const start = path.lastIndexOf(searchTerm)
    if (start < 0) return null
    const encoded = path.slice(start + searchTerm.length).replace('/', '')
    return decodeURI(encoded) // Decode to handle non-English letters
  }
  const isProductPage = /^.*\/products\/[A-Za-z0-9-_%]+\/?$/i.test(window.location.pathname)
  const productHandle = isProductPage && pageProductHandle()
  const compoundProducts = ["test-1", "sandy-iii-black-shelly-black", "sandy-iii-black-shelly-ii-blossom", "sandy-iii-rose-gold-lizard-emboss-shelly-black", "sandy-iii-rose-gold-lizard-emboss-shelly-ii-blossom", "shelly-black-shelly-ii-blossom", "jackie-iii-white-silver-lizard-jackie-iii-white-rose-gold-lizard", "jackie-iii-white-silver-lizard-jackie-iii-black-punched", "jackie-iii-white-silver-lizard-nat-ii-white", "jackie-iii-white-silver-lizard-nat-ii-black-white", "jackie-iii-white-silver-lizard-nat-ii-black-black", "jackie-iii-white-silver-lizard-ellie-iv-black", "jackie-iii-white-rose-gold-jackie-iii-black-punched", "jackie-iii-white-rose-gold-nat-ii-white", "jackie-iii-white-rose-gold-nat-ii-black-white", "jackie-iii-white-rose-gold-nat-ii-black-black", "jackie-iii-white-rose-gold-ellie-iv-black", "jackie-iii-black-punched-nat-ii-white", "jackie-iii-black-punched-nat-ii-black-white", "jackie-iii-black-punched-nat-ii-black-black", "jackie-iii-black-punched-ellie-iv-black", "nat-ii-white-nat-ii-black-white", "nat-ii-white-nat-ii-black-black", "nat-ii-white-ellie-iv-black", "nat-ii-black-white-nat-ii-black-black", "nat-ii-black-white-ellie-iv-black", "nat-ii-black-black-ellie-iv-black", "dimity-silver-grey-dimity-black", "poppy-tan-poppy-black", "poppy-tan-poppy-black-patent", "poppy-tan-gianna-black", "poppy-tan-gianna-dusty-blossom", "poppy-tan-elizabeth-black", "poppy-black-poppy-black-patent", "poppy-black-gianna-black", "poppy-black-gianna-dusty-blossom", "poppy-black-elizabeth-black", "poppy-black-patent-gianna-black", "poppy-black-patent-gianna-dusty-blossom", "poppy-black-patent-elizabeth-black", "gianna-black-gianna-dusty-blossom", "gianna-black-elizabeth-black", "gianna-dusty-blossom-elizabeth-black", "jackie-iii-white-silver-sandy-iii-black", "jackie-iii-white-silver-sandy-iii-rose-gold", "jackie-iii-white-silver-shelly-black", "jackie-iii-white-silver-shelly-ii-blossom", "jackie-iii-white-rose-gold-sandy-iii-black", "jackie-iii-white-rose-gold-sandy-iii-rose-gold-lizard-emboss", "jackie-iii-white-rose-gold-shelly-ii-black", "jackie-iii-white-rose-gold-shelly-ii-blossom", "jackie-iii-black-punched-sandy-iii-black", "jackie-iii-black-punched-sandy-iii-rose-gold-lizard-emboss", "jackie-iii-black-punched-shelly-ii-black", "jackie-iii-black-punched-shelly-ii-blossom", "nat-ii-white-sandy-iii-black", "nat-ii-white-sandy-iii-rose-gold-lizard-emboss", "nat-ii-white-shelly-ii-black", "nat-ii-white-shelly-ii-blossom", "nat-ii-black-white-sandy-iii-black", "nat-ii-black-white-sandy-ii-rose-gold-lizard-emboss", "nat-ii-black-white-shelly-ii-black", "nat-ii-black-white-shelly-ii-blossom", "nat-ii-black-black-sandy-iii-black", "nat-ii-black-black-sandy-iii-rose-gold-lizard-emboss", "nat-ii-black-black-shelly-ii-black", "nat-ii-black-black-shelly-ii-blossom", "ellie-iv-black-sandy-iii-black", "ellie-iv-black-sandy-iii-rose-gold-lizard-emboss", "ellie-iv-black-shelly-ii-black", "ellie-iv-black-shelly-ii-blossom", "poppy-tan-sandy-iii-black", "poppy-tan-sandy-iii-rose-gold-lizard-emboss", "poppy-tan-shelly-ii-black", "poppy-tan-shelly-ii-blossom", "poppy-black-sandy-iii-black", "poppy-black-sandy-iii-rose-gold-lizard-emboss", "poppy-black-shelly-ii-black", "poppy-black-shelly-ii-blossom", "poppy-black-patent-sandy-iii-black", "poppy-black-patent-sandy-iii-rose-gold-lizard-emboss", "poppy-black-patent-shelly-ii-black", "poppy-black-patent-shelly-ii-blossom", "gianna-black-sandy-iii-black", "gianna-black-sandy-iii-rose-gold-lizard-emboss", "gianna-black-shelly-ii-black", "gianna-black-shelly-ii-blossom", "gianna-dusty-blossom-sandy-iii-black", "gianna-dusty-blossom-sandy-iii-rose-gold-lizard-emboss", "gianna-dusty-blossom-shelly-ii-black", "gianna-dusty-blossom-shelly-ii-blossom", "elizabeth-black-sandy-iii-black", "elizabeth-black-sandy-iii-rose-gold-lizard-emboss", "elizabeth-black-shelly-ii-black", "elizabeth-black-shelly-ii-blossom", "jackie-iii-white-silver-poppy-tan", "jackie-iii-white-silver-poppy-black", "jackie-iii-white-silver-poppy-black-patent", "jackie-iii-white-silver-poppy-tan-1", "jackie-iii-white-silver-poppy-black-1", "jackie-iii-white-silver-poppy-black-patent-1", "jackie-iii-white-silver-gianna-black", "jackie-iii-white-silver-gianna-dusty-blossom", "jackie-iii-white-silver-elizabeth-black", "jackie-iii-white-rose-gold-poppy-tan", "jackie-iii-white-rose-gold-poppy-black", "jackie-iii-white-rose-gold-poppy-black-patent", "jackie-iii-white-rose-gold-gianna-black", "jackie-iii-white-rose-gold-gianna-dusty-blossom", "jackie-iii-white-rose-gold-elizabeth-black", "jackie-iii-black-punched-poppy-tan", "jackie-iii-black-punched-poppy-black", "jackie-iii-black-punched-poppy-black-patent", "jackie-iii-black-punched-gianna-black", "jackie-iii-black-punched-gianna-dusty-blossom", "jackie-iii-black-punched-elizabeth-black", "nat-ii-white-poppy-tan", "nat-ii-white-poppy-black", "nat-ii-white-poppy-black-patent", "nat-ii-white-gianna-black", "nat-ii-white-gianna-dusty-blossom", "nat-ii-white-elizabeth-black", "nat-ii-black-white-poppy-tan", "nat-ii-black-white-poppy-black", "nat-ii-black-white-poppy-black-patent", "nat-ii-black-white-gianna-black", "nat-ii-black-white-gianna-dusty-blossom", "nat-ii-black-white-elizabeth-black", "nat-ii-black-black-poppy-tan", "nat-ii-black-black-poppy-black", "nat-ii-black-black-poppy-black-patent", "nat-ii-black-black-elizabeth-black", "nat-ii-black-black-gianna-black", "nat-ii-black-black-gianna-dusty-blossom", "ellie-iv-black-poppy-tan", "ellie-iv-black-poppy-black", "ellie-iv-black-poppy-black-patent", "ellie-iv-black-gianna-black", "ellie-iv-black-gianna-dusty-blossom", "ellie-iv-black-elizabeth-black", "dimity-silver-grey-sandy-iii-black", "dimity-silver-grey-sandy-iii-rose-gold-lizard-emboss", "dimity-silver-grey-shelly-ii-black", "dimity-silver-grey-shelly-ii-blossom", "dimity-black-sandy-iii-black", "dimity-black-sandy-iii-rose-gold-lizard-emboss", "dimity-black-shelly-ii-black", "dimity-black-shelly-ii-blossom", "dimity-silver-grey-poppy-tan", "dimity-silver-grey-poppy-black", "dimity-silver-grey-poppy-black-patent", "dimity-silver-grey-gianna-black", "dimity-silver-grey-gianna-dusty-blossom", "dimity-silver-grey-elizabeth-black", "dimity-black-poppy-tan", "dimity-black-poppy-black", "dimity-black-poppy-black-patent", "dimity-black-gianna-black", "dimity-black-gianna-dusty-blossom", "dimity-black-elizabeth-black", "dimity-silver-grey-poppy-tan-sandy-iii-black", "dimity-silver-grey-poppy-tan-sandy-iii-rose-gold-lizard-emboss", "dimity-silver-grey-poppy-tan-shelly-ii-black", "dimity-silver-grey-poppy-tan-shelly-ii-blossom", "dimity-black-poppy-tan-shelly-ii-black", "dimity-black-poppy-tan-shelly-ii-blossom", "dimity-black-poppy-tan-sandy-iii-black", "dimity-black-poppy-tan-sandy-iii-rose-gold-lizard-emboss", "dimity-black-poppy-black-sandy-iii-rose-gold-lizard-emboss", "dimity-black-poppy-black-sandy-iii-black", "new-combo", "dimity-black-poppy-black-shelly-ii-black", "dimity-black-poppy-black-shelly-ii-blossom", "dimity-black-poppy-black-patent-sandy-iii-black", "dimity-black-poppy-black-patent-sandy-iii-dusty-rose-gold-lizard-emboss", "dimity-black-poppy-black-patent-shelly-ii-black", "dimity-black-poppy-black-patent-shelly-ii-blossom", "dimity-black-gianna-black-shelly-ii-blossom", "dimity-black-gianna-black-shelly-ii-black", "dimity-black-gianna-black-sandy-iii-black", "dimity-black-gianna-black-sandy-iii-rose-gold-lizard-emboss", "new-combo-1"]
  if (!compoundProducts.includes(productHandle) || 'replace' !== 'replace') return
  // Override cart URL inside the selector with a localized version if necessary
  const selector = 'form[action="/cart/add"]'.replace('"/cart/add"', '"{{ routes.cart_add_url }}"')
  const productForms = productHandle && document.querySelectorAll(selector)
  const productForm = productForms && productForms.length === 1 && productForms.item(0)
  if (productForm) {
    productForm.style.setProperty('visibility', 'hidden')
  }
})()
</script>
