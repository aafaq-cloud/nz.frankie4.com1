<div class="section section-text-image no-margin">

    <div class="grid-container">
        <div class="grid-x align-middle">
            <div class="cell medium-6 large-4">
                <div class="cell-text-container">
                    <h2 class="h3 mb-20">{{ section.settings.title }}</h2>
                    {{ section.settings.content }}
                    {% if section.settings.button_text != blank %}
                        <a class="button button-primary" href="{{section.settings.link}}">{{section.settings.button_text}}</a>
                    {% endif %}
                </div>
            </div>
            <div class="cell-image cell medium-auto">
                <div data-autoload-class="ComponentVideo" style="height:400px" class="wide-screen-only">
                    <video autoplay="" loop="" muted="" plays-inline="" playsinline width="100%" height="400">
                        <source src="{{ section.settings.video }}" type="video/mp4">
                    </video>
                </div>

                <div data-autoload-class="ComponentVideo" style="height:200px; margin-bottom: 25px" class="mobile-screen-only">
                    <video autoplay="" loop="" muted="" plays-inline="" playsinline width="100%" height="200">
                        <source src="{{ section.settings.video }}" type="video/mp4">
                    </video>
                </div>
            </div>
        </div>
    </div>

</div>

<style>
.wide-screen-only {
    display: block;
}
.mobile-screen-only {
    display: none;
}

@media screen and (max-width: 640px) {
    .wide-screen-only {
        display: none;
    }
    .mobile-screen-only {
        display: block;
    }
}
</style>

{% schema %}
    {
        "name": "Text Image",
        "settings": [
            {
                "id": "title",
                "type": "text",
                "label": "Title"
            },
            {
                "id": "content",
                "type": "richtext",
                "label": "Content"
            },
            {
                "id": "button_text",
                "type": "text",
                "label": "Button Text"
            },
            {
                "id": "link",
                "type": "url",
                "label": "Button Link"
            },
            {
                "id": "video",
                "type": "text",
                "label": "Video",
                "info": "Enter the video source URL. The video must be .mp4 format and hosted publicly."
            }
        ],
        "presets": [
            {
                "name": "Text Video",
                "category": "Sections"
            }
        ]
    }
{% endschema %}
