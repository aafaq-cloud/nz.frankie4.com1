<div data-autoload-class="FeaturedProductsSection" class="section section-featured-products large-margin">

    <div class="grid-container featured-products-container">

        <div class="title-block text-center mb-30">
            {% if section.settings.section_title != blank %}<h2 class="h1 m-0">{{section.settings.section_title}}</h2>{% endif %}
            {% if section.settings.section_subheading != blank %}<p class="lead color-secondary-text mt-5 mb-0">{{section.settings.section_subheading}}</p>{% endif %}
        </div>

        {% unless collections[section.settings.collection].products_count == 0 %}
            <div class="grid-x grid-margin-x grid-margin-y">

                {% for product in collections[section.settings.collection].products limit:4 %}
                    <div class="cell small-6 large-3">
                        {% include 'product-tile' %}
                    </div>
                {% endfor %}

            </div>
        {% endunless %}
        <div class="grid-x align-center mt-30">
            <a class="button button-hollow" href="{{collections[section.settings.collection].url}}" >View More</a>
        </div>

    </div>
</div>

{% schema %}

{
    "name": "Featured Products 404",
    "settings": [
        {
            "type": "header",
            "content": "Section Title"
        },
        {
            "type": "text",
            "id": "section_title",
            "label": "Title",
            "default": "Your Most Loved"
        },
        {
            "type": "text",
            "id": "section_subheading",
            "label": "Subheading"
        },
        {
            "type": "collection",
            "id": "collection",
            "info": "Products will be pulled from the selected collection.",
            "label": "Collection"
        }
    ],
    "presets": [
        {
            "name": "Featured Products 404",
            "category": "Sections"
        }
    ]
}

{% endschema %}
