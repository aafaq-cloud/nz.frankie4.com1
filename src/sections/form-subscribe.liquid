<div class="section section-newsletter no-margin {{ section.settings.background }}">
  <div class="grid-container">
    <div class="medium-text-center mb-15">
      <h2 class="m-0">{{section.settings.section_title}}</h2>
      <p class="mt-5 mb-0">{{section.settings.section_subheading}}</p>
    </div>

    <div class="grid-x align-center">
      <div class="cell medium-9 large-6">

        {% form 'customer' %}

        {% if form.posted_successfully? %}
          <p class="form-success mb-30">
            {{ 'general.newsletter_form.confirmation' | t }}
          </p>
        {% endif %}

        <input type="hidden" name="contact[tags]" value="newsletter">

        <div class="grid-x grid-margin-y align-right">

          <div class="cell medium-8">
            <input type="email"
            name="contact[email]"
            class="{% if form.errors contains 'email' %}input-error{% endif %}"
            id="Email"
            value="{% if customer.email != blank %}{{ customer.email }}{% endif %}"
            placeholder="{{ 'general.newsletter_form.email_placeholder' | t }}"
            autocorrect="off"
            autocapitalize="off">

            {% if form.errors %}
              <div class="cell small-12">
                  {{ form.errors | default_errors }}
              </div>
            {% endif %}
          </div>

          <div class="cell medium-shrink">
            <input type="submit" class="button button-primary button-expanded" value="{{ 'general.newsletter_form.submit' | t }}">
          </div>
        </div>

        {% endform %}

      </div>
    </div>
  </div>

</div>
{% schema %}
{
  "name": "Subscribe",
  "settings": [
  {
    "type": "header",
    "content": "Section Title"
  },
  {
    "type": "text",
    "id": "section_title",
    "label": "Title"
  },
  {
    "type": "text",
    "id": "section_subheading",
    "label": "Subheading"
  },
  {
    "type":      "select",
    "id":        "background",
    "label":     "Background Colour",
    "options": [
      { "value": "pink", "label": "Light Pink"},
      { "value": "green", "label": "Light Green"},
      { "value": "blue", "label": "Light Blue"},
      { "value": "grey", "label": "Dark Grey"}
     ],
    "default":   "pink",
    "info":      "Select a background colour"
  }
  ],
  "presets": [
  {
    "name": "Subscribe",
    "category": "Forms"
  }
  ]
}
{% endschema %}
