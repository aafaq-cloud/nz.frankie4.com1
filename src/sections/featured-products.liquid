<div data-autoload-class="FeaturedProductsSection" class="section section-featured-products large-margin">

    <div class="grid-container featured-products-container">

        <div class="title-block medium-text-center mb-30">
            <h2 class="h1 m-0">{{section.settings.section_title}}</h2>
            <p class="lead color-secondary-text mt-5 mb-0">{{section.settings.section_subheading}}</p>
            <a href="{{collections[section.settings.collection].url}}" class="arrow-link color-secondary-text mt-20">More {% include 'icon-chevron-right' %}</a>
        </div>

        {% unless collections[section.settings.collection].products_count == 0 %}
            <div class="grid-x grid-margin-x grid-margin-y">

                {% for product in collections[section.settings.collection].products limit:4 %}
                    <div class="cell small-6 large-3">
                        {% include 'product-tile' %}
                    </div>
                {% endfor %}

            </div>
        {% endunless %}


        {% comment %}
        {% unless collections[section.settings.collection].products_count == 0 %}
            <div class="grid-x grid-margin-x">
                <div data-autoload-class="ComponentCarousel" class="carousel cell">
                    <div class="glide">
                        <div data-glide-el="track" class="glide__track">
                            <div class="glide__slides">
                                {% for product in collections[section.settings.collection].products limit:9 %}
                                    <div class="glide__slide">
                                        {% include 'product-tile' %}
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="glide__arrows" data-glide-el="controls">
                            <button class="glide__arrow glide__arrow--left" data-glide-dir="<">{% include "icon-chevron" %}</button>
                            <button class="glide__arrow glide__arrow--right" data-glide-dir=">">{% include "icon-chevron" %}</button>
                        </div>
                    </div>
                </div>
            </div>
        {% endunless %}

        {% endcomment %}

    </div>
</div>

{% schema %}

{
    "name": "Featured Products",
    "settings": [
        {
            "type": "header",
            "content": "Section Title"
        },
        {
            "type": "text",
            "id": "section_title",
            "label": "Title",
            "default": "Your Most Loved"
        },
        {
            "type": "text",
            "id": "section_subheading",
            "label": "Subheading"
        },
        {
            "type": "collection",
            "id": "collection",
            "info": "Products will be pulled from the selected collection.",
            "label": "Collection"
        }
    ],
    "presets": [
        {
            "name": "Featured Products",
            "category": "Sections"
        }
    ]
}

{% endschema %}
